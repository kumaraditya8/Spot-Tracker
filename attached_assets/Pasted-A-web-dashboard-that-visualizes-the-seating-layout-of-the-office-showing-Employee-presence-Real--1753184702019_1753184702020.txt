A web dashboard that visualizes the seating layout of the office, showing:

Employee presence

Real-time activity status (Present, Inactive, Remote, Absent, Sleeping)

MAC address/device tracking

Heartbeat pings

Admin and search/filter panel

ğŸ§  SYSTEM ARCHITECTURE
Frontend: React + TailwindCSS
Backend: Node.js + Express (optional) or Firebase (for real-time updates)
Database: PostgreSQL / Firebase Firestore
MAC Detection / Device Tracking: Native client script or Electron wrapper
Real-time communication: WebSocket / Firebase Realtime
Deployment: Vercel (Frontend) + Railway / Firebase

ğŸŒ COMPONENT FLOW DIAGRAM
plaintext
Copy
Edit
[Employee Device (Browser)]
        |
        |â€” Ping (MAC + Last Seen + Status) â€”>
        |
  [Tracking Middleware]
        |
        |â€” Store in DB / Firebase
        |
  [React Frontend Dashboard]
        |
        |â€” Seat Grid + Tooltip + Filters
        |
     [Admin Panel]
ğŸ—ï¸ FEATURE-WISE BREAKDOWN
1. ğŸª‘ Office Layout (Seat Map Grid)
A static JSON or dynamic layout defining:

json
Copy
Edit
[
  { "id": "A1", "type": "seat", "employee": "Kumar Aditya", "mac": "AA:BB:CC", "location": "Delhi", "project": "Tripo Saints" },
  { "id": "A2", "type": "empty" },
  ...
]
Rendered via React using Tailwind Grid.

Hover tooltip shows:
Name, Project, MAC Address, Last Seen, Status.

2. ğŸ“¡ MAC Address & Device Detection
Client script (canâ€™t access MAC in browser).
So, options:

Electron App or Desktop Client (to detect MAC via Node.js or native OS calls).

bash
Copy
Edit
# Node.js MAC detection
const { networkInterfaces } = require("os");
const mac = Object.values(networkInterfaces())[0][0].mac;
If using browser only:

Use userAgent + IP fingerprinting (less accurate).

Or allow user to manually register MAC once (stored in DB).

3. ğŸ’“ Real-time Heartbeat Detection (Presence Tracking)
Each client (browser or Electron) sends a heartbeat ping:

ts
Copy
Edit
setInterval(() => {
  fetch("/api/ping", {
    method: "POST",
    body: JSON.stringify({
      mac: "AA:BB:CC:DD:EE:FF",
      lastSeen: new Date().toISOString(),
      status: getUserActivity(),  // e.g., present, idle, remote, sleep
    })
  });
}, 30_000);
Status detection logic (browser-based):

js
Copy
Edit
let lastActivity = Date.now();
document.onmousemove = () => lastActivity = Date.now();

function getUserActivity() {
  const diff = Date.now() - lastActivity;
  if (diff < 60_000) return "present";
  if (diff < 5 * 60_000) return "inactive";
  if (diff > 15 * 60_000) return "sleeping";
  return "absent";
}
Optional:

Detect remote by checking geolocation/IP.

Detect sleep mode via inactivity + native system APIs (Electron only).

4. ğŸ§  Backend (Optional or Firebase)
Option 1: Firebase Firestore
Realtime sync of user data.

Automatically updates React frontend.

Option 2: Node.js + PostgreSQL
API to record ping:

ts
Copy
Edit
POST /api/ping
{
  mac: "xx:xx:xx",
  lastSeen: "...",
  status: "present"
}
Use express and pg:

ts
Copy
Edit
app.post("/api/ping", async (req, res) => {
  const { mac, lastSeen, status } = req.body;
  await db.query("UPDATE employees SET last_seen=$1, status=$2 WHERE mac=$3", [lastSeen, status, mac]);
});
5. ğŸ“Š React Dashboard (Seat Grid UI)
Read from static seats.json or dynamic fetch from DB.

Each block:

ts
Copy
Edit
<div className={`seat ${status}`} title={`Name: ${name}\nMAC: ${mac}\nStatus: ${status}`}>
   <span>{seatId}</span>
</div>
Status classes:

ts
Copy
Edit
present â†’ green
inactive â†’ yellow
remote â†’ blue
sleeping â†’ purple
absent â†’ gray
6. ğŸ” Filters + Search
Filter dropdown: Status, Project, Location.

Search: by name, MAC, project, or seat ID.

React-controlled input + Array.filter.

7. ğŸ› ï¸ Admin Panel
Add/remove employees to seats.

Assign MAC address manually.

Edit location, department, status.

View activity logs.

8. ğŸ” Auth (Optional)
Admin login for seat management.

Firebase Auth or simple JWT auth via Node.js.

ğŸ›Œ Sleep Detection Logic
To track â€œSleepingâ€ status:

In Browser:
ts
Copy
Edit
let lastActivity = Date.now();
["mousemove", "keydown", "click", "scroll"].forEach(e =>
  document.addEventListener(e, () => lastActivity = Date.now())
);

setInterval(() => {
  const diff = Date.now() - lastActivity;
  let status = "present";
  if (diff > 10 * 60_000) status = "sleeping";
  else if (diff > 3 * 60_000) status = "inactive";

  sendStatus(status);
}, 30_000);
In System (Electron):
Use OS-specific idle APIs:

Windows: user32.dll (GetLastInputInfo)

macOS: ioreg + pmset commands

ğŸ“ Sample Folder Structure
bash
Copy
Edit
/spot-sitting-bot
â”‚
â”œâ”€â”€ /client (React + Tailwind)
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ pages/
â”‚   â””â”€â”€ seats.json
â”‚
â”œâ”€â”€ /server (Node.js API)
â”‚   â”œâ”€â”€ routes/
â”‚   â””â”€â”€ db/
â”‚
â”œâ”€â”€ /electron-client (optional)
â”‚   â””â”€â”€ macDetector.ts
â”‚
â””â”€â”€ README.md
âœ… Status Table Summary
Status	Detection Method	Color
Present	Activity in <1 min	Green
Inactive	No activity for 3â€“10 min	Yellow
Remote	IP not in office range	Blue
Sleeping	No activity >10â€“15 min or idle system	Purple
Absent	No heartbeat in >30 mins	Gray